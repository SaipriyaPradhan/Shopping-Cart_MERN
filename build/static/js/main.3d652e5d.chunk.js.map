{"version":3,"sources":["actions/action-types.js","reducers/cartReducer.js","reducers/productsReducer.js","reducers/userReducer.js","reducers/index.js","sagas/users.js","sagas/products.js","store.js","sagas/index.js","localStorage.js","contexts/AddToCartContext.js","actions/index.js","components/views/ProductListSummary.js","lib/cartLib.js","components/views/AddToCart.js","components/helpers/ReadMore.js","components/views/ProductDetailSummary.js","components/helpers/Pagination.js","components/containers/ProductList.js","components/pages/Home.js","components/views/CartUpdateForm.js","components/views/CartItem.js","components/views/CartTotal.js","components/containers/CartList.js","components/pages/ShoppingCart.js","components/containers/ProductDetails.js","components/pages/ProductDetailsPage.js","components/InputFields/FieldInput.js","components/InputFields/FieldRadioGroup.js","components/containers/SignUp.js","components/pages/SignUpPage.js","components/containers/SignIn.js","components/pages/SignInPage.js","components/InputFields/FieldFileInput.js","components/containers/EditProfile.js","components/pages/EditProfilePage.js","hoc/requireAuth.js","components/views/PageNotFound.js","components/views/Header.js","contexts/AuthContext.js","components/views/NavBar.js","components/views/NavCartCount.js","components/containers/NavContainer.js","components/errorHandlers/ErrorBoundary.js","components/views/Footer.js","components/pages/BasePage.js","hoc/withAuth.js","components/pages/SignOutPage.js","index.js","RootStoreProvider.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","UPDATE_CART","FETCH_PRODUCTS_REQUEST","FETCH_PRODUCTS_SUCCESS","FETCH_PRODUCT_DETAILS_REQUEST","FETCH_PRODUCT_DETAILS_SUCCESS","SIGN_IN_REQUEST","SIGN_IN_SUCCESS","LOGOUT_USER","RELOAD_USER","SIGN_UP_REQUEST","EDIT_PROFILE_REQUEST","cartReducer","doesItemExist","state","arguments","length","undefined","action","type","types","newState","map","item","Id","payload","quantity","concat","Object","toConsumableArray","objectSpread","filter","productId","cartFormArr","keys","key","index","newProdCartState","itemFound","find","element","productsReducer","allProducts","productDetails","userReducer","userData","token","combineReducers","cart","products","user","form","watchSignUp","signUpSaga","watchSignIn","signInSaga","watchEditProfile","editProfileSaga","regenerator_default","a","wrap","_context","prev","next","takeLatest","stop","_marked","response","data","_context2","fetch","process","method","body","JSON","stringify","formProps","sent","json","success","call","resolve","reject","t0","console","log","_marked2","_context3","_marked3","_response","_data","_context4","put","_marked4","_context5","_marked5","formData","_response2","_data2","_context6","FormData","document","getElementById","formId","append","_id","headers","Authorization","history","push","_marked6","watchFetchProducts","fetchProductsSaga","watchFetchProductDetails","fetchProductDetailsSaga","products_marked","then","ok","Error","statusText","res","Products","products_marked2","products_marked3","product","products_marked4","store","rootSaga","all","sagas_marked","sagaMiddleware","createSagaMiddleware","src_store","initialState","persistedState","serializedState","localStorage","getItem","parse","err","loadState","createStore","rootReducer","applyMiddleware","run","subscribe","throttle","setItem","_unused","saveState","getState","AddToCartContext","React","createContext","addToCartAction","Title","Price","removeFromCartAction","updateCartAction","getProducts","getProductDetails","signUp","signIn","editProfile","signOut","dispatch","ProductListSummary","props","start","currentPageItemStart","end","currentPageItemEnd","totalProductCount","react_default","createElement","countCart","cartItemCount","reduce","total","num","cartTotal","highLightCartButton","$","animate","scrollTop","addClass","setTimeout","removeClass","displayMessage","message","prepend","AddToCart","handleAddToCart","_this","context","className","onClick","this","Component","contextType","ReadMore","truncateStr","text","truncated","truncatedValue","substring","_this$truncateStr","title","ProductDetailSummary","react_router_dom","to","alt","src","ImageUrl","ReadMore_ReadMore","Description","Category","Manufacturer","Organic","AddToCart_AddToCart","Pagination","classCallCheck","possibleConstructorReturn","getPrototypeOf","generatePageNumbers","pageNumbers","i","Math","ceil","perPage","generatePageMarkUp","pageMarkUp1","currentPage","handlePreviousPage","pageMarkUp2","number","handleThisPage","pageMarkUp3","handleNextPage","Fragment","ProductList","getPagedData","setState","lastPage","_this$getPagedData","_this$getPagedData2","slicedToArray","productListMarkup","slice","Provider","value","Pagination_Pagination","connect","actions","Home","containers_ProductList","CartUpdateForm","onChange","e","handleChangeCartQuantity","cartFormElement","handleRemoveCartItem","CartItem","handleClickRow","scope","counter","CartTotal","cartCount","CartList","cartForm","assign","parseInt","target","tableRef","current","each","el","confirmAlert","customUI","_ref","onClose","id","removeFromCart","createRef","_this2","cartItemsMarkUp","onSubmit","updateCart","ref","role","aria-label","preventDefault","ShoppingCart","containers_CartList","ProductDetails","match","params","containers_ProductDetails","FieldInput","input","label","_ref$meta","meta","touched","error","htmlFor","name","FieldRadioGroup","options","pristine","Field","component","_ref2","o","checked","SignUp","onSubmitHandler","Promise","reset","catch","errors","errorsList","SubmissionError","formError","_error","_this$props","handleSubmit","submitting","renderInputField","renderRadioGroup","disabled","compose","reduxForm","validate","values","firstname","lastname","gender","email","test","password","SignUpPage","containers_SignUp","SignIn","SignInPage","replace","containers_SignIn","FileInputField","originalFile","_this$props$meta","reader","FileReader","onload","result","readAsDataURL","accept","EditProfile","initialValues","encType","_","isEmpty","omit","firstName","lastName","enableReinitialize","requireAuth","WrappedComponent","ComposedComponent","_Component","apply","inherits","createClass","navigateToLogin","containers_EditProfile","PageNotFound","width","Header","href","AuthContext","NavBar","isLoggedIn","isAuthenticated","rel","height","viewBox","version","aria-hidden","fillRule","d","data-toggle","data-target","exact","activeClassName","NavCartCount","NavContainer","NavBar_NavBar","ErrorBoundary","hasError","errorInfo","children","Footer","withAuth","AuthComponent","_getPrototypeOf2","_len","args","Array","_key","componentRendered","pageName","Home_Home","ProductDetailsPage_ShoppingCart","ShoppingCart_ShoppingCart","SignUpPage_SignUpPage","SignInPage_SignInPage","pages_EditProfilePage","containers_NavContainer","ErrorBoundary_ErrorBoundary","SignOutPage","react_router","ReactDOM","render","_props$initialState","_props$env","env","getStore","es","createBrowserHistory","path","routeProps","pages_BasePage"],"mappings":"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","file":"static/js/main.3d652e5d.chunk.js","sourcesContent":["// Cart\r\nexport const ADD_TO_CART = 'ADD_TO_CART';\r\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART';\r\nexport const UPDATE_CART = 'UPDATE_CART';\r\n\r\n// Products\r\nexport const FETCH_PRODUCTS_REQUEST = 'FETCH_PRODUCTS_REQUEST';\r\nexport const FETCH_PRODUCTS_SUCCESS = 'FETCH_PRODUCTS_SUCCESS';\r\nexport const FETCH_PRODUCT_DETAILS_REQUEST = 'FETCH_PRODUCT_DETAILS_REQUEST';\r\nexport const FETCH_PRODUCT_DETAILS_SUCCESS = 'FETCH_PRODUCT_DETAILS_SUCCESS';\r\n\r\n// User\r\nexport const SIGN_IN_REQUEST = 'SIGN_IN_REQUEST';\r\nexport const SIGN_IN_SUCCESS = 'SIGN_IN_SUCCESS';\r\n// User details and cart details will be empty\r\n// from state store on LOGOUT.\r\nexport const LOGOUT_USER = 'LOGOUT_USER';\r\n// If user is updated at server end, reload it\r\n// at client end (e.g. in case of update user).\r\nexport const RELOAD_USER = 'RELOAD_USER';\r\n\r\nexport const SIGN_UP_REQUEST = 'SIGN_UP_REQUEST';\r\nexport const EDIT_PROFILE_REQUEST = 'EDIT_PROFILE_REQUEST';\r\n","import * as types from '../actions/action-types';\r\n\r\nconst cartReducer = (state = [], action) => {\r\n  let doesItemExist;\r\n  switch (action.type) {\r\n    case types.ADD_TO_CART:\r\n      doesItemExist = false;\r\n      const newState = state.map((item) => {\r\n        if (item.Id === action.payload.Id) {\r\n          item.quantity += 1;\r\n          doesItemExist = true;\r\n        }\r\n        return item;\r\n      });\r\n      if (doesItemExist) {\r\n        return newState;\r\n      }\r\n      return [...state, {...action.payload, quantity: 1}];\r\n\r\n    case types.REMOVE_FROM_CART:\r\n      const newCartState = state.filter((item) => {\r\n        if (item.Id === action.productId) {\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n      return newCartState;\r\n\r\n    case types.UPDATE_CART:\r\n      const cartFormArr = Object.keys(action.payload).map((key, index) => {\r\n        return action.payload[key];\r\n      });\r\n\r\n      doesItemExist = false;\r\n\r\n      const newProdCartState = state.map((item) => {\r\n        let itemFound = cartFormArr.find((element) => element.Id === item.Id);\r\n        if (itemFound) {\r\n          item.quantity = itemFound.quantity;\r\n          doesItemExist = true;\r\n        }\r\n        return item;\r\n      });\r\n\r\n      if (doesItemExist) {\r\n        return newProdCartState;\r\n      }\r\n\r\n      return state;\r\n\r\n    // For logout, cart will also be empty.\r\n    case types.LOGOUT_USER:\r\n      return [];\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default cartReducer;\r\n","import * as types from '../actions/action-types';\r\n\r\nconst productsReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case types.FETCH_PRODUCTS_SUCCESS:\r\n      const allProducts = action.payload;\r\n      return { ...state, ...{ allProducts } };\r\n    case types.FETCH_PRODUCT_DETAILS_SUCCESS:\r\n      const productDetails = action.payload[0];\r\n      return { ...state, ...{ productDetails } };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default productsReducer;\r\n","import * as types from '../actions/action-types';\r\n\r\nconst userReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case types.SIGN_IN_SUCCESS:\r\n      let userData = action.payload;\r\n      return { ...state, userData };\r\n    case types.LOGOUT_USER:\r\n      return {};\r\n    case types.RELOAD_USER:\r\n      userData = action.payload;\r\n      const token = state.userData.token;\r\n      return { ...state, userData: { ...userData, token } };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\n// Reducers\r\n\r\nimport cartReducer from './cartReducer';\r\nimport productsReducer from './productsReducer';\r\nimport userReducer from './userReducer';\r\nimport { reducer as form } from 'redux-form';\r\n\r\n// Combine Reducers\r\nexport default combineReducers({\r\n  cart: cartReducer,\r\n  products: productsReducer,\r\n  user: userReducer,\r\n  // Key has to be form to make redux-form work.\r\n  form\r\n});\r\n","import { call, put, takeLatest } from 'redux-saga/effects';\r\nimport * as types from '../actions/action-types';\r\n\r\nexport function* watchSignUp() {\r\n  yield takeLatest(types.SIGN_UP_REQUEST, signUpSaga);\r\n}\r\n\r\nexport function* signUpSaga(action) {\r\n  try {\r\n    const response = yield fetch(\r\n      process.env.REACT_APP_REMOTE_HOST + '/api/signup',\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(action.formProps)\r\n      }\r\n    );\r\n    const data = yield response.json();\r\n    if (data.success) {\r\n      yield call(action.resolve, data);\r\n    } else {\r\n      yield call(action.reject, data);\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n    yield call(action.reject);\r\n  }\r\n}\r\n\r\nexport function* watchSignIn() {\r\n  yield takeLatest(types.SIGN_IN_REQUEST, signInSaga);\r\n}\r\n\r\nexport function* signInSaga(action) {\r\n  try {\r\n    const response = yield fetch(\r\n      process.env.REACT_APP_REMOTE_HOST + '/api/signin',\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(action.formProps)\r\n      }\r\n    );\r\n    const data = yield response.json();\r\n    // For success dispatch SIGN_IN_SUCCESS action to\r\n    // update localstorage with session data and then\r\n    // resolve the promise (caller component will act on it).\r\n    if (data.success && typeof data.userData !== 'undefined') {\r\n      yield put({\r\n        type: types.SIGN_IN_SUCCESS,\r\n        payload: data.userData\r\n      });\r\n      yield call(action.resolve, data);\r\n    } else {\r\n      yield call(action.reject, data);\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n    yield call(action.reject);\r\n  }\r\n}\r\n\r\nexport function* watchEditProfile() {\r\n  yield takeLatest(types.EDIT_PROFILE_REQUEST, editProfileSaga);\r\n}\r\n\r\nexport function* editProfileSaga(action) {\r\n  const formData = new FormData(document.getElementById(action.formId));\r\n  formData.append('_id', action.userData._id);\r\n  try {\r\n    let response = yield fetch(\r\n      process.env.REACT_APP_REMOTE_HOST + '/api/update-profile',\r\n      {\r\n        method: 'POST',\r\n        body: formData,\r\n        headers: {\r\n          Authorization: `Bearer ${action.userData.token}`\r\n        }\r\n      }\r\n    );\r\n    let data = yield response.json();\r\n    if (data.success) {\r\n      yield put({ type: types.RELOAD_USER, payload: data.userData });\r\n      yield call(action.resolve, data);\r\n    } else {\r\n      // Server invalidated the token so signing out the user.\r\n      yield put({ type: types.LOGOUT_USER });\r\n      action.history.push('/sign-in');\r\n      yield call(action.reject);\r\n    }\r\n  } catch (e) {\r\n    // Server rejected the request meaning the token is invalid.\r\n    yield put({ type: types.LOGOUT_USER });\r\n    action.history.push('/sign-in');\r\n    yield call(action.reject);\r\n  }\r\n}\r\n","import { put, takeLatest } from 'redux-saga/effects';\r\nimport * as types from '../actions/action-types';\r\n\r\nexport function* watchFetchProducts() {\r\n  yield takeLatest(types.FETCH_PRODUCTS_REQUEST, fetchProductsSaga);\r\n}\r\n\r\nexport function* fetchProductsSaga(action) {\r\n  try {\r\n    const products = yield fetch('/data/ProductData.json')\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw Error(response.statusText);\r\n        }\r\n        return response;\r\n      })\r\n      .then(res => res.json())\r\n      .then(json => {\r\n        return json.Products;\r\n      });\r\n\r\n    yield put({ type: types.FETCH_PRODUCTS_SUCCESS, payload: products });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport function* watchFetchProductDetails() {\r\n  yield takeLatest(\r\n    types.FETCH_PRODUCT_DETAILS_REQUEST,\r\n    fetchProductDetailsSaga\r\n  );\r\n}\r\n\r\nexport function* fetchProductDetailsSaga(action) {\r\n  try {\r\n    const product = yield fetch('/data/ProductData.json')\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw Error(response.statusText);\r\n        }\r\n        return response;\r\n      })\r\n      .then(res => res.json())\r\n      .then(json => {\r\n        return json.Products.filter(product => {\r\n          if (product.Id === action.productId) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      });\r\n\r\n    yield put({ type: types.FETCH_PRODUCT_DETAILS_SUCCESS, payload: product });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport throttle from 'lodash.throttle';\r\nimport rootReducer from './reducers';\r\nimport { loadState, saveState } from './localStorage';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootSaga from './sagas';\r\n//import stateValidator from './middlewares/stateValidator';\r\n\r\nlet store;\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nexport default (initialState, env = 'real') => {\r\n  switch (env) {\r\n    case 'real':\r\n    default:\r\n      const persistedState = loadState();\r\n      store = createStore(\r\n        rootReducer,\r\n        persistedState,\r\n        applyMiddleware(sagaMiddleware)\r\n      );\r\n      sagaMiddleware.run(rootSaga);\r\n\r\n      store.subscribe(\r\n        // Throttle: invokes a function at most once per every 1000 milliseconds.\r\n        throttle(() => {\r\n          saveState({\r\n            cart: store.getState().cart,\r\n            user: store.getState().user\r\n          });\r\n        }, 1000)\r\n      );\r\n      break;\r\n    case 'test':\r\n      store = createStore(\r\n        rootReducer,\r\n        initialState,\r\n        applyMiddleware(sagaMiddleware)\r\n      );\r\n      sagaMiddleware.run(rootSaga);\r\n      break;\r\n  }\r\n  return store;\r\n};\r\n","import { all } from 'redux-saga/effects';\r\nimport { watchSignUp, watchSignIn, watchEditProfile } from './users';\r\nimport { watchFetchProducts, watchFetchProductDetails } from './products';\r\n\r\nexport default function* rootSaga() {\r\n  yield all([\r\n    watchSignUp(),\r\n    watchSignIn(),\r\n    watchFetchProducts(),\r\n    watchFetchProductDetails(),\r\n    watchEditProfile()\r\n  ]);\r\n}\r\n","export const loadState = () => {\r\n  // localStorage.getItem can fail if the user privacy mode does not allow the use of localStorage.\r\n  try {\r\n    const serializedState = localStorage.getItem('state');\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const saveState = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem('state', serializedState);\r\n  } catch {\r\n    // ignore write errors\r\n  }\r\n};\r\n","import React from 'react';\r\n\r\n// Creating AddToCartContext as it might be used at any deep level child.\r\nexport const AddToCartContext = React.createContext({action: null});\r\n","import * as types from './action-types';\r\n\r\nexport function addToCartAction(product) {\r\n  return {\r\n    type: types.ADD_TO_CART,\r\n    payload: { Id: product.Id, Title: product.Title, Price: product.Price }\r\n  };\r\n}\r\n\r\nexport function removeFromCartAction(productId) {\r\n  return {\r\n    type: types.REMOVE_FROM_CART,\r\n    productId: productId\r\n  };\r\n}\r\n\r\nexport function updateCartAction(payload) {\r\n  return {\r\n    type: types.UPDATE_CART,\r\n    payload\r\n  };\r\n}\r\n\r\nexport function getProducts(payload) {\r\n  return {\r\n    type: types.FETCH_PRODUCTS_REQUEST,\r\n    payload\r\n  };\r\n}\r\n\r\nexport function getProductDetails(productId) {\r\n  return {\r\n    type: types.FETCH_PRODUCT_DETAILS_REQUEST,\r\n    productId\r\n  };\r\n}\r\n\r\nexport function signUp(formProps, resolve, reject) {\r\n  return {\r\n    type: types.SIGN_UP_REQUEST,\r\n    formProps,\r\n    resolve,\r\n    reject\r\n  };\r\n}\r\n\r\nexport function signIn(formProps, resolve, reject) {\r\n  return {\r\n    type: types.SIGN_IN_REQUEST,\r\n    formProps,\r\n    resolve,\r\n    reject\r\n  };\r\n}\r\n\r\nexport function editProfile(formId, userData, history, resolve, reject) {\r\n  return {\r\n    type: types.EDIT_PROFILE_REQUEST,\r\n    formId,\r\n    userData,\r\n    history,\r\n    resolve,\r\n    reject\r\n  };\r\n}\r\n\r\nexport const signOut = () => dispatch => {\r\n  dispatch({ type: types.LOGOUT_USER });\r\n};\r\n","import React from 'react';\r\n\r\nexport default (props) => {\r\n  const start = props.currentPageItemStart + 1;\r\n  let end = props.currentPageItemEnd;\r\n  if (props.currentPageItemEnd > props.totalProductCount) {\r\n    end = props.totalProductCount;\r\n  }\r\n  return(\r\n    <div>\r\n      <p>Showing {start} - {end} of {props.totalProductCount} products</p>\r\n    </div>\r\n  );\r\n}\r\n","import $ from 'jquery';\r\n\r\nexport const countCart = cart => {\r\n  const cartItemCount = cart.map(item => item.quantity).reduce((total, num) => (total + num), 0);\r\n  const cartTotal = cart.map(item => item.Price * item.quantity).reduce((total, num) => (total + num), 0);\r\n  return { cartItemCount, cartTotal }\r\n}\r\n\r\nexport const highLightCartButton = () => {\r\n  $(\"html, body\").animate({ scrollTop: 0 }, 300);\r\n  $(\"#nav-view-cart-link\").addClass('active');\r\n  setTimeout(() => $(\"#nav-view-cart-link\").removeClass('active'), 700);\r\n}\r\n\r\nexport const displayMessage = (message, type) => {\r\n  switch (type) {\r\n    case 'success':\r\n      $('.container.main-container').prepend(\r\n        `<div class=\"alert alert-success alert-dismissible fade show\">\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>\r\n          <strong>Success!</strong> ${message}\r\n        </div>`\r\n      );\r\n      break;\r\n    case 'error':\r\n      $('.container.main-container').prepend(\r\n        `<div class=\"alert alert-danger alert-dismissible fade show\">\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>\r\n          <strong>Error!</strong> ${message}\r\n        </div>`\r\n      );\r\n      break;\r\n    default:\r\n      $('.container.main-container').prepend(\r\n        `<div class=\"alert alert-dismissible fade show\">\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>\r\n          ${message}\r\n        </div>`\r\n      );\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport { AddToCartContext } from '../../contexts/AddToCartContext';\r\nimport { highLightCartButton } from '../../lib/cartLib';\r\n\r\nexport default class AddToCart extends Component {\r\n  handleAddToCart = () => {\r\n    highLightCartButton();\r\n    this.context.action(this.props.product);\r\n  }\r\n  render() {\r\n    return(\r\n      <div className=\"add-cart-container\">\r\n        <button type=\"button\" className=\"btn btn-primary\"\r\n          onClick={this.handleAddToCart}>Add to Cart</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAddToCart.contextType = AddToCartContext;\r\n","import React, { Component } from 'react';\r\n\r\nexport default class ReadMore extends Component {\r\n  truncateStr = (text, length) => {\r\n    if (text.length > length)\r\n      return { truncated: true, truncatedValue: text.substring(0, length - 3) + '...' };\r\n    else\r\n      return { truncated: false, truncatedValue: text };\r\n  }\r\n\r\n  render() {\r\n    const text = this.props.text;\r\n    const length = this.props.length;\r\n    const { truncated, truncatedValue } = this.truncateStr(text, length);\r\n\r\n    return <span title={truncated ? text : ''}>{truncatedValue}</span>;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport AddToCart from './AddToCart';\r\nimport ReadMore from '../helpers/ReadMore';\r\n\r\nexport default (props) => {\r\n  return(\r\n    <div className=\"col-6 col-sm-4 col-md-4 col-lg-3\">\r\n\r\n      <div className=\"product-box card bg-light mb-3\">\r\n        <div className=\"card-header\">\r\n          <h5 className=\"card-title\">\r\n            <Link to={\"/product-detail/\" + props.product.Id}>{props.product.Title}</Link>\r\n          </h5>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"text-center\">\r\n            <Link to={\"/product-detail/\" + props.product.Id}>\r\n              <img className=\"card-img-top\" alt={props.product.Title} src={props.product.ImageUrl} />\r\n            </Link>\r\n          </div>\r\n          <p className=\"card-text description\">\r\n            <ReadMore text={props.product.Description} length=\"100\" />\r\n          </p>\r\n          <p className=\"card-text\"><b>Category:</b> {props.product.Category}</p>\r\n          <p className=\"card-text\"><b>Made by:</b> <ReadMore text={props.product.Manufacturer} length=\"15\" /></p>\r\n          <p className=\"card-text\"><b>Organic:</b> {props.product.Organic ? 'Yes' : 'No' }</p>\r\n          <p className=\"card-text\"><b>Price:</b> ${props.product.Price}</p>\r\n          <AddToCart product={props.product} />\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class Pagination extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    //props passed: currentPage, perPage, totalProductCount\r\n  }\r\n\r\n  generatePageNumbers = () => {\r\n    const pageNumbers = [];\r\n    for (let i = 1; i <= Math.ceil(this.props.totalProductCount / this.props.perPage); i++) {\r\n      pageNumbers.push(i);\r\n    }\r\n    return pageNumbers;\r\n  }\r\n\r\n  generatePageMarkUp = () => {\r\n    const pageMarkUp1 = (\r\n      <li className={(this.props.currentPage <= 1) ? 'page-item disabled' : 'page-item'}>\r\n        <button className=\"page-link\" onClick={this.props.handlePreviousPage}>Previous</button>\r\n      </li>\r\n    );\r\n    const pageMarkUp2 = this.generatePageNumbers().map(number => {\r\n      return (\r\n        <li key={number} className={(number === this.props.currentPage) ? 'page-item active' : 'page-item'}>\r\n          <button className=\"page-link\" onClick={() => this.props.handleThisPage(number)}>{number}</button>\r\n        </li>\r\n      );\r\n    });\r\n    const pageMarkUp3 = (\r\n      <li className={((this.props.currentPage * this.props.perPage) >= this.props.totalProductCount) ? 'page-item disabled' : 'page-item'}>\r\n        <button className=\"page-link\" onClick={this.props.handleNextPage}>Next</button>\r\n      </li>\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {pageMarkUp1}\r\n        {pageMarkUp2}\r\n        {pageMarkUp3}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.props.totalProductCount > this.props.perPage) {\r\n      return(\r\n        <ul className=\"pagination product-pagination\">\r\n          {this.generatePageMarkUp()}\r\n        </ul>\r\n      );\r\n    }\r\n    else {\r\n      return(\r\n        <ul className=\"pagination product-pagination\">\r\n          <li className=\"page-item disabled\"><button className=\"page-link\">1</button></li>\r\n        </ul>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { AddToCartContext } from '../../contexts/AddToCartContext';\r\nimport * as actions from '../../actions';\r\nimport ProductListSummary from '../views/ProductListSummary';\r\nimport ProductDetailSummary from '../views/ProductDetailSummary';\r\nimport Pagination from '../helpers/Pagination';\r\n\r\nclass ProductList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      products: [],\r\n      currentPage: 1,\r\n      perPage: 8\r\n    };\r\n    // TODO: set instance level vars -> this.props.products.length, lastPage = Math.ceil(this.props.products.length / this.state.perPage)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getProducts();\r\n  }\r\n\r\n  getPagedData = () => {\r\n    const currentPageItemStart =\r\n      (this.state.currentPage - 1) * this.state.perPage;\r\n    const currentPageItemEnd = currentPageItemStart + this.state.perPage;\r\n    return [currentPageItemStart, currentPageItemEnd];\r\n  };\r\n\r\n  handleThisPage = number => {\r\n    this.setState({ currentPage: number });\r\n    $('html, body').animate({ scrollTop: 0 }, 500);\r\n  };\r\n\r\n  handlePreviousPage = () => {\r\n    if (this.state.currentPage > 0) {\r\n      this.setState({ currentPage: this.state.currentPage - 1 });\r\n      $('html, body').animate({ scrollTop: 0 }, 500);\r\n    }\r\n  };\r\n\r\n  handleNextPage = () => {\r\n    const lastPage = Math.ceil(this.props.products.length / this.state.perPage);\r\n    if (this.state.currentPage < lastPage) {\r\n      this.setState({ currentPage: this.state.currentPage + 1 });\r\n      $('html, body').animate({ scrollTop: 0 }, 500);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const totalProductCount = this.props.products.length;\r\n    const [currentPageItemStart, currentPageItemEnd] = this.getPagedData();\r\n    const currentPageProducts = this.props.products.slice(\r\n      currentPageItemStart,\r\n      currentPageItemEnd\r\n    );\r\n    const productListMarkup = currentPageProducts.map(product => (\r\n      <ProductDetailSummary product={product} key={product.Id} />\r\n    ));\r\n\r\n    // Passing AddToCartContext as it might be used at any deep level child.\r\n    return (\r\n      <AddToCartContext.Provider value={{ action: this.props.addToCartAction }}>\r\n        <div className=\"container\">\r\n          <h3 className=\"center\">Product List</h3>\r\n\r\n          <ProductListSummary\r\n            currentPageItemStart={currentPageItemStart}\r\n            currentPageItemEnd={currentPageItemEnd}\r\n            totalProductCount={totalProductCount}\r\n          />\r\n          <div className=\"row\">{productListMarkup}</div>\r\n          <Pagination\r\n            currentPage={this.state.currentPage}\r\n            perPage={this.state.perPage}\r\n            totalProductCount={totalProductCount}\r\n            handlePreviousPage={this.handlePreviousPage}\r\n            handleThisPage={this.handleThisPage}\r\n            handleNextPage={this.handleNextPage}\r\n          />\r\n        </div>\r\n      </AddToCartContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  if (typeof state.products.allProducts === 'undefined') {\r\n    return { products: [] };\r\n  } else {\r\n    return { products: state.products.allProducts };\r\n  }\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  actions\r\n)(ProductList);\r\n","import React, { Component } from 'react';\r\nimport ProductList from '../containers/ProductList';\r\n\r\nexport default class Home extends Component {\r\n  render() {\r\n    return(\r\n      <div className=\"container main-container\">\r\n        <ProductList />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport default (props) => {\r\n  return(\r\n    <div className=\"input-group cart-form-input-group\">\r\n      <input type=\"number\" className=\"form-control\"\r\n        onChange={e => props.handleChangeCartQuantity(e, props.product.Id)}\r\n        value={props.cartFormElement.quantity} />\r\n\r\n      <button type=\"button\" className=\"btn btn-outline-danger btn-remove-cart\"\r\n        onClick={e => props.handleRemoveCartItem(props.product)}>X</button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport CartUpdateForm from './CartUpdateForm';\r\n\r\nexport default (props) => {\r\n  return(\r\n    <tr className={\"row-\" + props.product.Id}\r\n      onClick={e => props.handleClickRow(props.product.Id)}>\r\n\r\n      <th scope=\"row\">{ props.counter }</th>\r\n      <td>{ props.product.Title }</td>\r\n      <td>${ props.product.Price }</td>\r\n      <td>\r\n        <CartUpdateForm product={props.product}\r\n          cartFormElement={props.cartFormElement}\r\n          handleRemoveCartItem={props.handleRemoveCartItem}\r\n          handleChangeCartQuantity={props.handleChangeCartQuantity} />\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default (props) =>\r\n  <tbody className=\"thead-light\">\r\n    <tr>\r\n      <th scope=\"col\"></th>\r\n      <th scope=\"col\">Subtotal</th>\r\n      <th scope=\"col\">${props.cartCount.cartTotal}</th>\r\n      <th scope=\"col\">{props.cartCount.cartItemCount} items</th>\r\n    </tr>\r\n  </tbody>\r\n","import React, { Component } from 'react';\r\n//import { findDOMNode } from 'react-dom';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { connect } from 'react-redux'\r\nimport $ from 'jquery';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\n\r\nimport { countCart } from '../../lib/cartLib';\r\nimport * as actions from '../../actions';\r\nimport CartItem from '../views/CartItem';\r\nimport CartTotal from '../views/CartTotal';\r\nimport { highLightCartButton } from '../../lib/cartLib';\r\n\r\nclass CartList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const cartForm = {};\r\n    this.props.cart.map((product, index) =>\r\n      cartForm[product.Id] = {Id: product.Id, quantity: product.quantity}\r\n    );\r\n    this.state = {cartForm};\r\n\r\n    this.tableRef = React.createRef();\r\n  }\r\n\r\n  handleChangeCartQuantity = (e, productId) => {\r\n    const cartForm = Object.assign({}, this.state.cartForm);\r\n    cartForm[productId].quantity = parseInt(e.target.value);\r\n    this.setState(cartForm);\r\n  }\r\n\r\n  // Focus the clicked row.\r\n  handleClickRow = (productId) => {\r\n    //const el = findDOMNode(this.tableRef.current);\r\n    $(this.tableRef.current).find('tr').each((i, el) => {\r\n      $(el).removeClass('table-active');\r\n    });\r\n    $(this.tableRef.current).find('tr.row-' + productId).addClass('table-active');\r\n  }\r\n\r\n  handleRemoveCartItem = (product) => {\r\n    /*confirmAlert({\r\n      title: 'Remove \"' + product.Title + '\"',\r\n      message: 'Are you sure want to remove this product from your cart?',\r\n      buttons: [\r\n        {\r\n          label: 'Yes',\r\n          onClick: () => this.props.removeFromCart(product.Id)\r\n        },\r\n        {\r\n          label: 'No',\r\n          onClick: () => false\r\n        }\r\n      ]\r\n    });*/\r\n    confirmAlert({\r\n      customUI: ({ onClose }) => {\r\n        return (\r\n          <div className=\"react-confirm-alert-body\">\r\n            <h1>Remove {product.Title}</h1>\r\n            <p>Are you sure want to remove this product from your cart?</p>\r\n            <div className=\"react-confirm-alert-button-group\">\r\n              <button onClick={onClose}>No</button>\r\n              <button id=\"btn-confirm-delete-cart\"\r\n                onClick={() => {\r\n                  this.props.removeFromCart(product.Id);\r\n                  onClose();\r\n                }}\r\n              >\r\n                Yes, Remove it!\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const cartItemsMarkUp = this.props.cart.map((product, index) =>\r\n      <CartItem product={product} key={product.Id}\r\n        cartFormElement={this.state.cartForm[product.Id]}\r\n        handleClickRow={this.handleClickRow}\r\n        handleRemoveCartItem={this.handleRemoveCartItem}\r\n        counter={index + 1} handleChangeCartQuantity={this.handleChangeCartQuantity} />\r\n    );\r\n    return(\r\n      <div className=\"container\">\r\n        <h3 className=\"center my-cart\">My Cart ({this.props.cartCount.cartItemCount}):</h3>\r\n        {this.props.cartCount.cartItemCount > 0\r\n          ?\r\n          <form id=\"cart-form\" onSubmit={e => this.props.updateCart(e, this.state.cartForm)}>\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-hover\" ref={this.tableRef}>\r\n                <thead className=\"thead-light\">\r\n                  <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">Name</th>\r\n                    <th scope=\"col\">Price</th>\r\n                    <th scope=\"col\">Quantity</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {cartItemsMarkUp}\r\n                </tbody>\r\n                <CartTotal cartCount={this.props.cartCount} />\r\n              </table>\r\n            </div>\r\n\r\n            <div className=\"row justify-content-end container-proceed-cart\">\r\n              <div className=\"col-lg-3 col-md-5 col-sm-6 col-xs-8\">\r\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Update Cart\">\r\n                  <button type=\"submit\" className=\"btn btn-primary\">Update Cart</button>\r\n                </div>\r\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Checkout\">\r\n                  <button type=\"button\" className=\"btn btn-primary\">Checkout</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          :\r\n          <h4 className=\"row justify-content-center cart-empty\">Your Cart is empty!</h4>\r\n        }\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const cartCount = countCart(state.cart);\r\n  return {cart: state.cart, cartCount}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    removeFromCart: productId => {\r\n      highLightCartButton();\r\n      return dispatch(actions.removeFromCartAction(productId))\r\n    },\r\n\r\n    updateCart: (e, cartForm) => {\r\n      e.preventDefault();\r\n      highLightCartButton();\r\n      return dispatch(actions.updateCartAction(cartForm));\r\n    },\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartList);\r\n","import React, { Component } from 'react';\r\nimport CartList from '../containers/CartList';\r\n\r\nexport default class ShoppingCart extends Component {\r\n  render() {\r\n    return(\r\n      <div className=\"container main-container\">\r\n        <CartList />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as actions from '../../actions';\r\nimport AddToCart from '../views/AddToCart';\r\nimport { AddToCartContext } from '../../contexts/AddToCartContext';\r\n\r\nclass ProductDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { productDetails: {} };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const productId = this.props.productId; // this.props.match.params.productId\r\n    this.props.getProductDetails(productId);\r\n  }\r\n\r\n  // Passing AddToCartContext as it might be used at any deep level child.\r\n  render() {\r\n    return (\r\n      <AddToCartContext.Provider value={{ action: this.props.addToCartAction }}>\r\n        <div>\r\n          {typeof this.props.productDetails !== 'undefined' && (\r\n            <React.Fragment>\r\n              <h3 className=\"center\">\r\n                Product Details - {this.props.productDetails.Title}\r\n              </h3>\r\n              Details page of Product.\r\n              <div className=\"product-box card mb-3\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"text-center\">\r\n                    <img\r\n                      className=\"card-img-top\"\r\n                      alt={this.props.productDetails.Title}\r\n                      src={this.props.productDetails.ImageUrl}\r\n                    />\r\n                  </div>\r\n                  <p className=\"card-text description\">\r\n                    {this.props.productDetails.Description}\r\n                  </p>\r\n                  <p className=\"card-text\">\r\n                    <b>Category:</b> {this.props.productDetails.Category}\r\n                  </p>\r\n                  <p className=\"card-text\">\r\n                    <b>Made by:</b> {this.props.productDetails.Manufacturer}\r\n                  </p>\r\n                  <p className=\"card-text\">\r\n                    <b>Organic:</b>{' '}\r\n                    {this.props.productDetails.Organic ? 'Yes' : 'No'}\r\n                  </p>\r\n                  <p className=\"card-text\">\r\n                    <b>Price:</b> ${this.props.productDetails.Price}\r\n                  </p>\r\n\r\n                  <AddToCart product={this.props.productDetails} />\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </AddToCartContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { productDetails: state.products.productDetails };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  actions\r\n)(ProductDetails);\r\n","import React, { Component } from 'react';\r\nimport ProductDetails from '../containers/ProductDetails';\r\n\r\nexport default class ShoppingCart extends Component {\r\n  render() {\r\n    const { match: { params: { productId } } } = this.props; // this.props.match.params.productId\r\n    return(\r\n      <div className=\"container main-container\">\r\n        <ProductDetails productId={productId} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport default ({ input, label, className, type, meta: { touched, error } }) => (\r\n  <React.Fragment>\r\n    <label htmlFor={input.name}>{label}</label>\r\n    <input {...input} className={className} type={type} />\r\n      {touched && error && <span className=\"text-danger\">{error}</span>}\r\n  </React.Fragment>\r\n);\r\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\n\r\nexport default ({\r\n  input,\r\n  label,\r\n  options,\r\n  className,\r\n  meta: { touched, pristine, error }\r\n}) => (\r\n  <React.Fragment>\r\n    <label htmlFor={input.name}>{label}</label>\r\n    <div className=\"form-control\">\r\n      <Field\r\n        component={({ input, options }) =>\r\n          options.map(o => (\r\n            <div key={o.value} className=\"form-check-inline\">\r\n              <label>\r\n                <input\r\n                  className={className}\r\n                  type=\"radio\"\r\n                  name={input.name}\r\n                  onChange={input.onChange}\r\n                  value={o.value}\r\n                  checked={o.value === input.value}\r\n                />{' '}\r\n                {o.title}\r\n              </label>\r\n            </div>\r\n          ))\r\n        }\r\n        name={input.name}\r\n        options={options}\r\n      />\r\n    </div>\r\n    {touched && !pristine && error && (\r\n      <span className=\"text-danger\">{error}</span>\r\n    )}\r\n  </React.Fragment>\r\n);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, Field, SubmissionError } from 'redux-form';\r\nimport { compose } from 'redux';\r\nimport * as actions from '../../actions';\r\nimport { displayMessage } from '../../lib/cartLib';\r\nimport renderInputField from '../InputFields/FieldInput';\r\nimport renderRadioGroup from '../InputFields/FieldRadioGroup';\r\n\r\nclass SignUp extends Component {\r\n  onSubmitHandler = formProps => {\r\n    // Promisify the form submit action dispatch, so that\r\n    // it will be returned with response from saga and\r\n    // it can be handled here with finer control.\r\n    return new Promise((resolve, reject) => {\r\n      // As mapDispatchToProps is not a function, return the object.\r\n      // Redux will do the dispatching automatically.\r\n      return this.props.signUp(formProps, resolve, reject);\r\n    })\r\n      .then(response => {\r\n        displayMessage('You have been signed up successfully.', 'success');\r\n        this.props.reset();\r\n      })\r\n      .catch(response => {\r\n        if (\r\n          response &&\r\n          !response.success &&\r\n          Object.keys(response.errors).length\r\n        ) {\r\n          const errorsList = { ...response.errors };\r\n          if (typeof errorsList.form === 'undefined') {\r\n            throw new SubmissionError(errorsList);\r\n          } else {\r\n            const formError = errorsList.form;\r\n            delete errorsList.form;\r\n            throw new SubmissionError({ _error: formError, ...errorsList });\r\n          }\r\n        } else {\r\n          throw new SubmissionError({\r\n            _error: 'Signup failed due to server error!'\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { handleSubmit, submitting, error } = this.props;\r\n    return (\r\n      <form\r\n        onSubmit={handleSubmit(this.onSubmitHandler)}\r\n        className=\"needs-validation\">\r\n        {error && (\r\n          <div className=\"alert alert-danger\">\r\n            <strong>Error!</strong> {error}\r\n          </div>\r\n        )}\r\n        <div className=\"form-group\">\r\n          <Field\r\n            name=\"firstname\"\r\n            label=\"First Name\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            component={renderInputField}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <Field\r\n            name=\"lastname\"\r\n            label=\"Last Name\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            component={renderInputField}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <Field\r\n            name=\"gender\"\r\n            label=\"Gender\"\r\n            className=\"form-check-input\"\r\n            component={renderRadioGroup}\r\n            options={[\r\n              { title: 'Male', value: 'male' },\r\n              { title: 'Female', value: 'female' }\r\n            ]}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <Field\r\n            name=\"address\"\r\n            label=\"Address\"\r\n            type=\"textarea\"\r\n            className=\"form-control\"\r\n            component={renderInputField}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <Field\r\n            name=\"email\"\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            component={renderInputField}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <Field\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            component={renderInputField}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={submitting}>\r\n          Sign Up\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\n// Also add client-side validation.\r\n// TODO: Add a Field prop \"required\" for validation.\r\n// Also use the same attribute to display (*).\r\nconst validateSignUpForm = values => {\r\n  const errors = {};\r\n  if (!values.firstname) {\r\n    errors.firstname = 'First Name is required.';\r\n  }\r\n  if (!values.lastname) {\r\n    errors.lastname = 'Last Name is required.';\r\n  }\r\n  if (!values.gender) {\r\n    errors.gender = 'Gender is required.';\r\n  }\r\n  if (!values.email) {\r\n    errors.email = 'Email is required.';\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n    errors.email = 'Invalid email address!';\r\n  }\r\n  if (!values.password) {\r\n    errors.password = 'Password is required.';\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    null,\r\n    actions\r\n  ),\r\n  reduxForm({ form: 'signup', validate: validateSignUpForm })\r\n)(SignUp);\r\n","import React, { Component } from 'react';\r\nimport SignUp from '../containers/SignUp';\r\n\r\nexport default class SignUpPage extends Component {\r\n  render() {\r\n    return(\r\n      <div className=\"container main-container\">\r\n        <SignUp />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, Field, SubmissionError } from 'redux-form';\r\nimport { compose } from 'redux';\r\nimport * as actions from '../../actions';\r\nimport renderInputField from '../InputFields/FieldInput';\r\n\r\nclass SignIn extends Component {\r\n  onSubmitHandler = formProps => {\r\n    // Promisify the form submit action dispatch, so that\r\n    // it will be returned with response from saga and\r\n    // it can be handled here with finer control.\r\n    return new Promise((resolve, reject) => {\r\n      // As mapDispatchToProps is not a function, return the object.\r\n      // Redux will do the dispatching automatically.\r\n      return this.props.signIn(formProps, resolve, reject);\r\n    })\r\n      .then(response => {\r\n        this.props.reset();\r\n        this.props.history.push('/');\r\n      })\r\n      .catch(response => {\r\n        if (\r\n          response &&\r\n          !response.success &&\r\n          typeof response.errors !== 'undefined' &&\r\n          Object.keys(response.errors).length\r\n        ) {\r\n          const errorsList = { ...response.errors };\r\n          if (typeof errorsList.form === 'undefined') {\r\n            throw new SubmissionError(errorsList);\r\n          } else {\r\n            const formError = errorsList.form;\r\n            delete errorsList.form;\r\n            throw new SubmissionError({ _error: formError, ...errorsList });\r\n          }\r\n        } else {\r\n          throw new SubmissionError({\r\n            _error: 'Sign-in failed due to server error!'\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { handleSubmit, submitting, error } = this.props;\r\n    return (\r\n      <form onSubmit={handleSubmit(this.onSubmitHandler)}>\r\n        {error && (\r\n          <div className=\"alert alert-danger\">\r\n            <strong>Error!</strong> {error}\r\n          </div>\r\n        )}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <Field\r\n            name=\"email\"\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            component={renderInputField}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <Field\r\n            name=\"password\"\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            component={renderInputField}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={submitting}>\r\n          Sign In\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(\r\n    null,\r\n    actions\r\n  ),\r\n  reduxForm({ form: 'signin' })\r\n)(SignIn);\r\n","import React, { Component } from 'react';\r\nimport SignIn from '../containers/SignIn';\r\n\r\nexport default class SignInPage extends Component {\r\n  componentDidMount() {\r\n    const { userData } = this.props.user;\r\n    if (userData && Object.keys(userData).length) {\r\n      // Redirect to home page.\r\n      // Hitting back button should go back to the\r\n      // earlier page in history instead of the login page.\r\n      this.props.history.replace('/');\r\n    }\r\n  }\r\n  render() {\r\n    return(\r\n      <div className=\"container main-container\">\r\n        <SignIn {...this.props}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class FileInputField  extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.originalFile = '';\r\n  }\r\n\r\n  render() {\r\n    const { input, label, className, type, meta: { touched, error } } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col\">\r\n            <label htmlFor={input.name}>{label}</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col\">\r\n            {\r\n              (()=>{\r\n                if (typeof input.value === 'string') {\r\n                  // When the image is being displayed from DB.\r\n                  this.originalFile = input.value;\r\n                  return <img id=\"edit-profile-image\" src={input.value} alt={label} className=\"permanent\" />\r\n                }\r\n                else if (input.value && input.value.length) {\r\n                  // When the image is being displayed what user has selected.\r\n                  const reader = new FileReader();\r\n\r\n                  reader.onload = function (e) {\r\n                    // Render thumbnail.\r\n                    document.getElementById(\"edit-profile-image\").src = e.target.result;\r\n                  };\r\n\r\n                  // Read the image file as a data URL.\r\n                  reader.readAsDataURL(input.value[0]);\r\n\r\n                  return <img id=\"edit-profile-image\" alt={label} className=\"temporary\" />\r\n                }\r\n                else if (this.originalFile) {\r\n                  // When user cancelled her selection.\r\n                  return <img id=\"edit-profile-image\" src={this.originalFile} alt={label} className=\"permanent\" />\r\n                }\r\n              })()\r\n            }\r\n          </div>\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col\">\r\n            {/* input type=\"file\" doesnt support setting the value property from JS\r\n                for security reason. To avoid this error value to be set as undefined.\r\n            */}\r\n            <input {...input} className={className} type={type} accept='.jpg, .png, .jpeg' value={undefined} />\r\n              {touched && error && <span className=\"text-danger\">{error}</span>}\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, Field, SubmissionError } from 'redux-form';\r\nimport { compose } from 'redux';\r\nimport _ from 'lodash';\r\nimport * as actions from '../../actions';\r\nimport { displayMessage } from '../../lib/cartLib';\r\nimport renderInputField from '../InputFields/FieldInput';\r\nimport renderRadioGroup from '../InputFields/FieldRadioGroup';\r\nimport FileInputField from '../InputFields/FieldFileInput';\r\n\r\nclass EditProfile extends Component {\r\n  onSubmitHandler = formProps => {\r\n    // Promisify the form submit action dispatch, so that\r\n    // it will be returned with response from saga and\r\n    // it can be handled here with finer control.\r\n    return new Promise((resolve, reject) => {\r\n      // Along with formProps pass the current userid to thunk middleware\r\n      this.props.editProfile(\r\n        'edit-profile-form',\r\n        this.props.initialValues,\r\n        this.props.history,\r\n        resolve,\r\n        reject\r\n      );\r\n    })\r\n      .then(response => {\r\n        //if (response && response.success) {\r\n        displayMessage(\r\n          'You have updated your profile successfully.',\r\n          'success'\r\n        );\r\n        this.props.reset();\r\n        //}\r\n      })\r\n      .catch(response => {\r\n        if (\r\n          response &&\r\n          !response.success &&\r\n          Object.keys(response.errors).length\r\n        ) {\r\n          const errorsList = { ...response.errors };\r\n          if (typeof errorsList.form === 'undefined') {\r\n            throw new SubmissionError(errorsList);\r\n          } else {\r\n            const formError = errorsList.form;\r\n            delete errorsList.form;\r\n            throw new SubmissionError({ _error: formError, ...errorsList });\r\n          }\r\n        } else {\r\n          throw new SubmissionError({\r\n            _error: 'Edit profile failed due to some server error!'\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { handleSubmit, pristine, reset, submitting, error } = this.props;\r\n    return (\r\n      <form\r\n        id=\"edit-profile-form\"\r\n        onSubmit={handleSubmit(this.onSubmitHandler)}\r\n        className=\"needs-validation\"\r\n        encType=\"multipart/form-data\">\r\n        {error && (\r\n          <div className=\"alert alert-danger\">\r\n            <strong>Error!</strong> {error}\r\n          </div>\r\n        )}\r\n        <div className=\"form-group\">\r\n          <Field\r\n            name=\"firstname\"\r\n            label=\"First Name\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            component={renderInputField}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <Field\r\n            name=\"lastname\"\r\n            label=\"Last Name\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            component={renderInputField}\r\n          />\r\n        </div>\r\n        <Field\r\n          name=\"picture\"\r\n          label=\"Photo\"\r\n          type=\"file\"\r\n          className=\"form-control\"\r\n          component={FileInputField}\r\n        />\r\n        <div className=\"form-group\">\r\n          <Field\r\n            name=\"gender\"\r\n            label=\"Gender\"\r\n            className=\"form-check-input\"\r\n            component={renderRadioGroup}\r\n            options={[\r\n              { title: 'Male', value: 'male' },\r\n              { title: 'Female', value: 'female' }\r\n            ]}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary mr-3\"\r\n          disabled={pristine || submitting}>\r\n          Update\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          disabled={pristine || submitting}\r\n          onClick={reset}>\r\n          Reset\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\n// Also add client-side validation.\r\nconst validateEditProfileForm = values => {\r\n  const errors = {};\r\n  if (!values.firstname) {\r\n    errors.firstname = 'First Name is required.';\r\n  }\r\n  if (!values.lastname) {\r\n    errors.lastname = 'Last Name is required.';\r\n  }\r\n  if (!values.gender) {\r\n    errors.gender = 'Gender is required.';\r\n  }\r\n  if (!values.email) {\r\n    errors.email = 'Email is required.';\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n    errors.email = 'Invalid email address!';\r\n  }\r\n  if (!values.password) {\r\n    errors.password = 'Password is required.';\r\n  }\r\n  return errors;\r\n};\r\n\r\n// TODO: For certain cases, e.g. refreshing the page\r\n// (Or hitting refresh icon at page) the user profile state\r\n// needs to be updated from backend.\r\nconst mapStateToProps = state => {\r\n  if (!_.isEmpty(state.user.userData)) {\r\n    // Need to change to key from firstName to firstname etc.\r\n    const userData = _.omit(state.user.userData, ['firstName', 'lastName']);\r\n    return {\r\n      initialValues: {\r\n        ...userData,\r\n        firstname: state.user.userData.firstName,\r\n        lastname: state.user.userData.lastName\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    actions\r\n  ),\r\n  reduxForm({\r\n    form: 'editprofile',\r\n    validate: validateEditProfileForm,\r\n    enableReinitialize: true\r\n  })\r\n)(EditProfile);\r\n","import React, { Component } from 'react';\r\nimport EditProfile from '../containers/EditProfile';\r\nimport requireAuth from '../../hoc/requireAuth';\r\n\r\nclass EditProfilePage extends Component {\r\n  render() {\r\n    return(\r\n      <div className=\"container main-container\">\r\n        <EditProfile {...this.props} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default requireAuth(EditProfilePage);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nexport default WrappedComponent => {\r\n  class ComposedComponent extends Component {\r\n    componentDidMount() {\r\n      this.navigateToLogin();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n      this.navigateToLogin();\r\n    }\r\n\r\n    navigateToLogin() {\r\n      const { userData } = this.props.user;\r\n      if (!userData || !Object.keys(userData).length) {\r\n        // Redirect to sign-in page.\r\n        // Hitting back button should go back to the\r\n        // earlier page in history instead of the protected page.\r\n        this.props.history.replace('/sign-in');\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return <WrappedComponent {...this.props} />;\r\n    }\r\n  }\r\n\r\n  function mapStateToProps(state) {\r\n    return { state };\r\n  }\r\n\r\n  return connect(mapStateToProps)(ComposedComponent);\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default (props) => {\r\n  /* Credit - https://codepen.io/salehriaz/pen/erJrZM */\r\n  return(\r\n    <div className=\"bg-purple\">\r\n      <div className=\"stars\">\r\n        <div className=\"custom-navbar\">\r\n          <div className=\"brand-logo\">\r\n            <img src=\"/img/logo.svg\" alt=\"logo\" width=\"80px\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"central-body\">\r\n          <img className=\"image-404\" alt=\"404\" src=\"/img/404.svg\" width=\"300px\" />\r\n          <Link to=\"/\" className=\"btn-go-home\">GO BACK HOME</Link>\r\n        </div>\r\n        <div className=\"objects\">\r\n          <img className=\"object_rocket\" alt=\"rocket\" src=\"/img/rocket.svg\" width=\"40px\" />\r\n          <div className=\"earth-moon\">\r\n            <img className=\"object_earth\" alt=\"earth\" src=\"/img/earth.svg\" width=\"100px\" />\r\n            <img className=\"object_moon\" alt=\"moon\" src=\"/img/moon.svg\" width=\"80px\" />\r\n          </div>\r\n          <div className=\"box_astronaut\">\r\n            <img className=\"object_astronaut\" alt=\"astronaut\" src=\"/img/astronaut.svg\" width=\"140px\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"glowing_stars\">\r\n          <div className=\"star\"></div>\r\n          <div className=\"star\"></div>\r\n          <div className=\"star\"></div>\r\n          <div className=\"star\"></div>\r\n          <div className=\"star\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default () => {\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"container text-center\">\r\n        <div className=\"logo\">\r\n          <a href=\"/\">\r\n            <img src=\"/img/logo.png\" alt=\"React Store\" />\r\n          </a>\r\n        </div>\r\n        <div className=\"header-text\">\r\n          <h1>\r\n            <span>Super</span> <span>Shopping</span>\r\n          </h1>\r\n          <p>\r\n            Enjoy the fast shopping cart experience with React, Redux & Node.js.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\n// Creating AuthContext to pass withAuth methods at deeper level child components.\r\nexport const AuthContext = React.createContext({});\r\n","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\n\r\nexport default class NavBar extends Component {\r\n  render() {\r\n    const isLoggedIn = this.context.isAuthenticated();\r\n    return (\r\n    <React.Fragment>\r\n      <a className=\"navbar-brand\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/sumanchalki/shopping-cart-react-redux\" title=\"Github Code\">\r\n        <svg height=\"32\" className=\"octicon octicon-mark-github\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" aria-hidden=\"true\">\r\n          <path fillRule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"></path>\r\n        </svg>\r\n      </a>\r\n\r\n      <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapsibleNavbar\">\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n\r\n      <div className=\"collapse navbar-collapse\" id=\"collapsibleNavbar\">\r\n        <ul className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <NavLink exact={true} to=\"/\" activeClassName='active' className=\"nav-link\">Home</NavLink>\r\n          </li>\r\n          { !isLoggedIn ?\r\n            <React.Fragment>\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/sign-in\" activeClassName='active' className=\"nav-link\">Sign In</NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/sign-up\" activeClassName='active' className=\"nav-link\">Sign Up</NavLink>\r\n              </li>\r\n            </React.Fragment>\r\n          :\r\n            <React.Fragment>\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/edit-profile\" activeClassName='active' className=\"nav-link\">My Profile</NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/signout\" activeClassName='active' className=\"nav-link\">Sign Out</NavLink>\r\n              </li>\r\n            </React.Fragment>\r\n          }\r\n        </ul>\r\n      </div> \r\n    </React.Fragment>\r\n  )};\r\n}\r\n\r\nNavBar.contextType = AuthContext;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default (props) => {\r\n  return(\r\n    <div>\r\n      <Link id=\"nav-view-cart-link\" to=\"/shopping-cart\" className=\"btn btn-secondary\">\r\n        Cart ({ props.cartItemCount })\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { countCart } from '../../lib/cartLib';\r\nimport NavBar from '../views/NavBar';\r\nimport NavCartCount from '../views/NavCartCount';\r\n\r\nclass NavContainer extends Component {\r\n  render() {\r\n    return(\r\n      <nav className=\"navbar navbar-expand-md bg-dark navbar-dark\">\r\n        <NavBar />\r\n        <NavCartCount cartItemCount={this.props.cartItemCount} />\r\n      </nav>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return countCart(state.cart);\r\n}\r\n\r\nexport default connect(mapStateToProps)(NavContainer);\r\n","import React, { Component } from 'react';\r\n\r\nexport default class ErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // TODO: To log error reporting service.\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <h3>Something went wrong.</h3>;\r\n    }\r\n\r\n    return this.props.children; \r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport default () => {\r\n  return(\r\n    <footer className=\"section footer-classic context-dark bg-image\">\r\n        <div className=\"container\">\r\n          <div className=\"row row-30 footer-row\">\r\n            <div className=\"col-md-4 col-xl-5\">\r\n              <div className=\"pr-xl-4\">\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\r\n                <p className=\"rights\"><span> </span><span className=\"copyright-year\">2018</span><span></span><span>.</span><span>All Rights Reserved.</span></p>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-4\">\r\n              <h5>Contacts</h5>\r\n              <dl className=\"contact-list\">\r\n                <dt>Address:</dt>\r\n                <dd>Kolkata, West Bengal, India</dd>\r\n              </dl>\r\n              <dl className=\"contact-list\">\r\n                <dt>email:</dt>\r\n                <dd><a href=\"mailto:#\">info@example.com</a></dd>\r\n              </dl>\r\n              <dl className=\"contact-list\">\r\n                <dt>phones:</dt>\r\n                <dd><a href=\"tel:#\">+91 99999999</a> <span>or</span> <a href=\"tel:#\">+91 11111111</a>\r\n                </dd>\r\n              </dl>\r\n            </div>\r\n            <div className=\"col-md-4 col-xl-3\">\r\n              <h5>Links</h5>\r\n              <ul className=\"nav-list\">\r\n                <li><a href=\"#about\">About</a></li>\r\n                <li><a href=\"#projects\">Projects</a></li>\r\n                <li><a href=\"#blog\">Blog</a></li>\r\n                <li><a href=\"#contacts\">Contacts</a></li>\r\n                <li><a href=\"#pricing\">Pricing</a></li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters social-container\">\r\n          <div className=\"col\"><a className=\"social-inner\" href=\"#facebook\"><span className=\"icon mdi mdi-facebook\"></span><span>Facebook</span></a></div>\r\n          <div className=\"col\"><a className=\"social-inner\" href=\"#instagram\"><span className=\"icon mdi mdi-instagram\"></span><span>instagram</span></a></div>\r\n          <div className=\"col\"><a className=\"social-inner\" href=\"#twitter\"><span className=\"icon mdi mdi-twitter\"></span><span>twitter</span></a></div>\r\n          <div className=\"col\"><a className=\"social-inner\" href=\"#google\"><span className=\"icon mdi mdi-youtube-play\"></span><span>google</span></a></div>\r\n        </div>\r\n      </footer>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport Home from './Home';\r\nimport ShoppingCart from './ShoppingCart';\r\nimport ProductDetailsPage from './ProductDetailsPage';\r\nimport SignUpPage from './SignUpPage';\r\nimport SignInPage from './SignInPage';\r\nimport EditProfilePage from './EditProfilePage';\r\nimport PageNotFound from '../views/PageNotFound';\r\nimport Header from '../views/Header';\r\nimport NavContainer from '../containers/NavContainer';\r\nimport ErrorBoundary from '../errorHandlers/ErrorBoundary';\r\nimport Footer from '../views/Footer';\r\nimport withAuth from '../../hoc/withAuth';\r\n\r\nclass BasePage extends Component {\r\n  render() {\r\n    let componentRendered = '';\r\n    switch (this.props.pageName) {\r\n      case \"Home\":\r\n        componentRendered = <Home {...this.props}/>;\r\n        break;\r\n      case \"ProductDetailsPage\":\r\n        componentRendered = <ProductDetailsPage {...this.props}/>;\r\n        break;\r\n      case \"ShoppingCart\":\r\n        componentRendered = <ShoppingCart {...this.props}/>;\r\n        break;\r\n      case \"SignUpPage\":\r\n        componentRendered = <SignUpPage {...this.props}/>;\r\n        break;\r\n      case \"SignInPage\":\r\n        componentRendered = <SignInPage {...this.props}/>;\r\n        break;\r\n      case \"EditProfilePage\":\r\n        componentRendered = <EditProfilePage {...this.props}/>;\r\n        break;\r\n      default:\r\n        componentRendered = <PageNotFound {...this.props}/>;\r\n    };\r\n    return(\r\n      <div className=\"App\">\r\n        <Header />\r\n        <NavContainer />\r\n        <ErrorBoundary>\r\n          {componentRendered}\r\n        </ErrorBoundary>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(BasePage);\r\n","/**\r\n * This file contains hoc to provide auth related functions e.g. isAuthenticated()\r\n * to any component by accessing the store.\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\n\r\nexport default WrappedComponent => {\r\n  class AuthComponent extends Component {\r\n    isAuthenticated = () => {\r\n      const { userData } = this.props.user;\r\n      if (typeof(userData) !== 'undefined' && userData && Object.keys(userData).length) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n    render() {\r\n      return (\r\n        <AuthContext.Provider value={{ isAuthenticated: this.isAuthenticated }}>\r\n          <WrappedComponent { ...this.props }/>\r\n        </AuthContext.Provider>\r\n      );\r\n    }\r\n  }\r\n\r\n  const mapStateToProps = state => {\r\n    return { user: state.user };\r\n  }\r\n\r\n  return connect(mapStateToProps, null)(AuthComponent);\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport * as actions from '../../actions';\r\n\r\nclass SignOutPage extends Component {\r\n  componentDidMount() {\r\n    // As we shouldn't update state during an existing\r\n    // state transition (such as within `render`).\r\n    this.props.signOut();\r\n  }\r\n  render() {\r\n    return <Redirect to='/' />;\r\n  }\r\n}\r\n\r\nexport default connect(null, actions)(SignOutPage);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport 'jquery';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/js/bootstrap';\r\nimport './index.css';\r\n\r\nimport RootStoreProvider from './RootStoreProvider';\r\nimport BasePage from './components/pages/BasePage';\r\nimport SignOutPage from './components/pages/SignOutPage';\r\n\r\n/*\r\n * BasePage is used to include Header, Footer etc.\r\n * With this we can skip header footer for any page to render directly.\r\n */\r\nReactDOM.render(\r\n  <RootStoreProvider>\r\n    <Switch>\r\n      <Route exact path=\"/\"\r\n        render={routeProps => (<BasePage {...routeProps} pageName=\"Home\" />)} />\r\n      <Route path=\"/index.html\"\r\n        render={routeProps => (<BasePage {...routeProps} pageName=\"Home\" />)} />\r\n      <Route path=\"/shopping-cart\"\r\n        render={routeProps => (<BasePage {...routeProps} pageName=\"ShoppingCart\" />)} />\r\n      <Route path=\"/product-detail/:productId\"\r\n        render={routeProps => (<BasePage {...routeProps} pageName=\"ProductDetailsPage\" />)} />\r\n      <Route path=\"/sign-up\"\r\n        render={routeProps => (<BasePage {...routeProps} pageName=\"SignUpPage\" />)} />\r\n      <Route path=\"/sign-in\"\r\n        render={routeProps => (<BasePage {...routeProps} pageName=\"SignInPage\" />)} />\r\n      <Route path=\"/edit-profile\"\r\n        render={routeProps => (<BasePage {...routeProps} pageName=\"EditProfilePage\" />)} />\r\n      {/* signout page doesn't require any Header, Footer etc. */}\r\n      <Route path=\"/signout\" component={SignOutPage} />\r\n      {/* <Route path=\"/sitemap.xml\" component={Sitemap}/> */}\r\n      <Route path=\"*\"\r\n        render={routeProps => (<BasePage {...routeProps} pageName=\"PageNotFound\" />)} />\r\n    </Switch>\r\n  </RootStoreProvider>,\r\n  document.getElementById('root')\r\n);\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { Router } from 'react-router-dom';\r\nimport { createBrowserHistory } from 'history';\r\nimport getStore from './store';\r\n\r\nexport default (props) => {\r\n  const { children, initialState = {}, env = '' } = props;\r\n  const store = getStore(initialState, env);\r\n  // This to reuse Provider tag code and Router. Links need to be wrapped by <Router>.\r\n  // It can be reused by unit tests.\r\n  return(\r\n    <Provider store={store}>\r\n      <Router history={createBrowserHistory(props)}>\r\n        {children}\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n"],"sourceRoot":""}